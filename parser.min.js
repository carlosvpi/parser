!function e(t,n,r){function o(u,l){if(!n[u]){if(!t[u]){var s="function"==typeof require&&require;if(!l&&s)return s(u,!0);if(p)return p(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var i=n[u]={exports:{}};t[u][0].call(i.exports,function(e){return o(t[u][1][e]||e)},i,i.exports,e,t,n,r)}return n[u].exports}for(var p="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){t.exports=e("./lib/parser")},{"./lib/parser":3}],2:[function(e,t,n){const r=t.exports.MATCH=e=>(t,n)=>{const o=t.slice(n).match(e);return o&&0===o.index?[[r.type,...o],n+o[0].length,[]]:[[null],n,[]]};r.type="$MATCH";const o=t.exports.LITERAL=e=>(t,n)=>0===t.slice(n).indexOf(e)?[[o.type,e],n+e.length,[]]:[[null],n,[]];o.type="$LITERAL";const p=t.exports.CONCAT=(...e)=>(t,n)=>{let r,o,u,l,s=[],c=[],i=n;for(let p=0;p<e.length;p++){if([[u,...r],o,l]=e[p](t,n),c.push(...l),null===u)return[[null],i,c];n=o,s.push([u,...r])}return[[p.type,...s],n,c]};p.type="$CONCAT";t.exports.DISJUNCTION=(...e)=>(t,n)=>{let r,o,p,u,l=[];for(let s=0;s<e.length;s++)if([[p,...r],o,u]=e[s](t,n),l.push(...u),null!==p)return[[p,...r],o,l];return[[null],n,l]},t.exports.OPTION=e=>(t,n)=>{const[[r,...o],u,l]=e(t,n);return o.length?[[r,...o],u,l]:[[p.type],n,[]]},t.exports.CLOSURE=e=>(t,n)=>{let r,[[o,...u],l,s]=e(t,n),c=[];for(;o;)c.push([o,...u]),o=(r=e(t,l))[0][0],u=r[0].slice(1),l=r[1],s.push(...r[2]);return[[p.type,...c],l,s]},t.exports.REPETITION=(e,t)=>(n,r)=>{let o,u,l,s,c=[],i=[];for(let p=0;p<e;p++){if([[o,...u],l,s]=t(n,r),i.push(...s),null===o)return[[null],r,i];r=l,c.push([o,...u])}return[[p.type,...c],r,i]},t.exports.EXCEPTION=(e,t=(()=>[[null]]))=>(n,r)=>{const[[o,...p],u,l]=e(n,r),[[s]]=t(n,r);return!o||s?[[null],r,l]:[[o,...p],u,l]},t.exports.EXPECT=(e,t)=>(n,r)=>{const o=e(n,r);let[[p,...u],l,s]=o;if(null===p){const o=n.length<=l?"end of input":`'${n.slice(r,r+40).split("\n").join("\\n")}...'`,c=n.length<=l?n.split("\n"):n.slice(0,r).split("\n"),i=c.length,y=c[i-1].length;s.push(`✘ ${i}:${y} | Expected '${t}', got ${o}`);let E=r,x=[];if(E<n.length)do{[[p,...u],l,x]=e(n,++E)}while(!p&&E<n.length);return[[p,...u],l,[...s,...x]]}return o}},{}],3:[function(e,t,n){const{WS:r,WSs:o,NT:p,Conc:u,Xcep:l,Disj:s,Exp:c,Rule:i,EBNF:y}=e("./rules"),{MATCH:E,LITERAL:x,CONCAT:f,DISJUNCTION:T,OPTION:a,CLOSURE:h,REPETITION:C,EXCEPTION:O,EXPECT:N}=e("./hoc"),$=(t.exports=e=>{const[[t,...n],r,o]=y(e,0);if(o.length)throw new Error(o.join("\n"));return n.reduce((e,[t,n,r])=>(e[n]=(t,o=0)=>{const p=$(r,e),[u,l,s]=p(t,o);return u[0]?[[n,u],l,s]:[[null],l,s]},e),{})},(e,t)=>{const[n,...i]=e;switch(n){case c.type:return T(...i.map(e=>$(e,t)));case s.type:return O($(i[0],t),i[1]?$(i[1],t):void 0);case l.type:return f(...i.map((e,n)=>{const r=$(e,t);return n?N(r,`non-terminal ${e[1]}`):r}));case p.type:return(e,n)=>"function"!=typeof t[i[0]]?[[null],n,[`✘ Undefined non-terminal '${i[0]}'`]]:t[i[0]](e,n);case u.type.Repetition:return C(i[0],$(i[1],t));case u.type.DblQuote:case u.type.SglQuote:return x(i[0]);case u.type.Regex:return E(i[0]);case u.type.Option:return a($(i[0],t));case u.type.Closure:return h($(i[0],t));case u.type.Group:return $(i[0],t);case r.type:return r;case o.type:return o}})},{"./hoc":2,"./rules":4}],4:[function(e,t,n){const{MATCH:r,LITERAL:o,CONCAT:p,DISJUNCTION:u,OPTION:l,CLOSURE:s,REPETITION:c,EXCEPTION:i,EXPECT:y}=e("./hoc"),E=t.exports.WS=(e,t)=>{const[[n,o],p,u]=r(/([\ \n\t]|\(\*([^\*]|\*(?!\)))*\*\))/)(e,t);return n?[[E.type,o],p,u]:[[null],p,u]};E.type="$WS";const x=t.exports.WSs=(e,t)=>{const[n,r,o]=s(E)(e,t);return[[x.type],r,o]};x.type="$WSs";const f=t.exports.NT=(e,t)=>{const[[n,o],u,l]=p(r(/[a-zA-Z_][a-zA-Z0-9_]*/),x)(e,t);return o?[[f.type,o[1]],u,l]:[[null],t,l]};f.type="$NT";const T=t.exports.Conc=(e,t)=>{const[[n,...l],s,c]=u(f,p(r(/[0-9]+/),x,y(o("*"),"*"),x,y(f,"Non terminal")),p(o('"'),r(/([^\\"]|\\.)*/),y(o('"'),'"'),x),p(o("'"),r(/([^\\']|\\.)*/),y(o("'"),"'"),x),p(o("/"),r(/([^\\\/]|\\.)*/),y(o("/"),"/"),x),p(o("["),x,C,y(o("]"),"]"),x),p(o("{"),x,C,y(o("}"),"}"),x),p(o("("),x,C,y(o(")"),")"),x),p(o("?"),r(/([^\\\?]|\\\?)*/),y(o("?"),"?"),x))(e,t);return[null===n?[null]:n===f.type?[f.type,...l]:l[2][0]===o.type&&"*"===l[2][1]?[T.type.Repetition,l[0][1],l[4][1]]:l[0][0]===o.type&&'"'===l[0][1]?[T.type.DblQuote,l[1][1]]:l[0][0]===o.type&&"'"===l[0][1]?[T.type.SglQuote,l[1][1]]:l[0][0]===o.type&&"/"===l[0][1]?[T.type.Regex,l[1][1]]:l[0][0]===o.type&&"["===l[0][1]?[T.type.Option,l[2]]:l[0][0]===o.type&&"{"===l[0][1]?[T.type.Closure,l[2]]:l[0][0]===o.type&&"("===l[0][1]?[T.type.Group,l[2]]:[null],s,c]};T.type={Repetition:"$Repetition",DblQuote:"$DblQuote",SglQuote:"$SglQuote",Regex:"$Regex",Option:"$Option",Closure:"$Closure",Group:"$Group"};const a=t.exports.Xcep=(e,t)=>{const[[n,...r],o,u]=p(T,s(T))(e,t);return null!==n?[[a.type,...r?[r[0],...r[1]?r[1].slice(1):[]]:[]],o,u]:[[null],o,u]};a.type="$Xcep";const h=t.exports.Disj=(e,t)=>{const[[n,...r],u,s]=p(a,l(p(o("-"),x,y(a,'Expression after "-"'))))(e,t);return null!==n?[[h.type,r[0],...r[1]&&r[1][1]?[r[1][3]]:[]],u,s]:[[null],u,s]};h.type="$Disj";const C=t.exports.Exp=(e,t)=>{const[[n,...r],u,l]=p(h,s(p(o("|"),x,y(h,'Expression after "|"'))))(e,t);return[[C.type,...r&&[r[0],...r[1]&&r[1]?r[1].slice(1).map(e=>e[3]):[]]],u,l]};C.type="$Exp";const O=t.exports.Rule=(e,t)=>{const[[n,...r],u,l]=p(f,y(o("="),"="),x,y(C,"Body of the rule"),y(o(";"),";"),x)(e,t),s=r&&r[0]&&r[0][1]||null,c=r&&r[3]||null;return s&&c?[[O.type,s,c],u,l]:[[null],t,l]};O.type="$Rule";const N=t.exports.EBNF=(e,t)=>{const[[n,...r],o,u]=p(x,s(O))(e,t);return[[N.type,...r[1].slice(1)],o,u]};N.type="$EBNF"},{"./hoc":2}]},{},[1]);
